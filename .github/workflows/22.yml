name: Get Subscription with wget

on:
  workflow_dispatch:

jobs:
  fetch:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: GET request with wget
      run: |
        echo "ğŸ“¥ ä½¿ç”¨ wget GET è¯·æ±‚..."
        
        wget --header="User-Agent: Clash" \
             --header="Accept: application/yaml" \
             -O HeathCloud618ord.yaml \
             "https://pastecode.dev/raw/hntbocnp/%E5%81%A5%E5%BA%B7%E4%B8%AD%E5%BF%83618ord"
        
        echo "âœ“ ä¸‹è½½å®Œæˆ"
        cat HeathCloud618ord.yaml
    
    - name: Commit
      run: |
        git config user.email "bot@github.com"
        git config user.name "Bot"
        git add HeathCloud618ord.yaml
        git diff --staged --quiet || git commit -m "Update via wget"
        git push
