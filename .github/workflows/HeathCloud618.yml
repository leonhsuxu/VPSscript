import requests

def download_file(url: str, filename: str):
    headers = {
        "User-Agent": ("Mozilla/5.0 (Windows NT 10.0; Win64; x64) "
                       "AppleWebKit/537.36 (KHTML, like Gecko) "
                       "Chrome/115.0.0.0 Safari/537.36"),
        # 如果需要还可以添加
        # "Referer": "https://example.com",
        # "Cookie": "key=value; anotherkey=anothervalue",
    }

    try:
        print(f"开始下载文件: {url}")
        response = requests.get(url, headers=headers, timeout=30)
        response.raise_for_status()
        with open(filename, "wb") as f:
            f.write(response.content)
        print(f"文件已保存到 {filename}")
    except requests.exceptions.HTTPError as e:
        print(f"HTTP 错误: {e.response.status_code} - {e.response.reason}")
    except requests.exceptions.RequestException as e:
        print(f"请求异常: {e}")

if __name__ == "__main__":
    # 这里替换成实际需要下载的文件 URL
    download_url = "https://example.com/path/to/file.yaml"
    save_path = "flclashyaml/TG.HeathCloud618.yaml"
    download_file(download_url, save_path)

    # 你后续的脚本合并、转换逻辑可继续写这里
